experiment:
  uid: iso_emission_stepup
  name: Isotropic Emission Filament Voltage Stepup
  description: |
    This experiment progressively steps through filament voltages, holding the bias voltage constant

segments:
  zero:
    name: Zero Voltages
    type: hold_iso_filament
    filament_voltage: 0
    filament_current_limit: 0
    bias_voltage: 0
    bias_current_limit: 0
    hold_s: 20
    recordings:
      - vacuum_chamber_pressure:
          record_id: pressure
          record_name: Pressure
      - filament_voltage:
          record_id: filament_voltage
          record_name: Filament Voltage
      - bias_voltage:
          record_id: bias_voltage
          record_name: Bias Voltage
      - filament_current:
          record_id: filament_current
          record_name: Filament Current
      - bias_current:
          record_id: bias_current
          record_name: Bias Current
      - emitted_current:
          record_id: emitted_current
          record_name: Emitted Current

  step_filament_voltages:
    name: Filament Voltage Step
    type: iso_filament_voltage_step
    min_filament_voltage: 0
    max_filament_voltage: 6
    num_steps: 20
    filament_current_limit: 3
    bias_voltage: 30
    bias_current_limit: 0.5
    step_delay: 10
    recordings:
      - vacuum_chamber_pressure:
          record_id: pressure
          record_name: Pressure
      - filament_voltage:
          record_id: filament_voltage
          record_name: Filament Voltage
      - bias_voltage:
          record_id: bias_voltage
          record_name: Bias Voltage
      - filament_current:
          record_id: filament_current
          record_name: Filament Current
      - bias_current:
          record_id: bias_current
          record_name: Bias Current
      - emitted_current:
          record_id: emitted_current
          record_name: Emitted Current

  rezero:
      name: Re-zero Voltages
      type: hold_iso_filament
      filament_voltage: 0
      filament_current_limit: 0
      bias_voltage: 0
      bias_current_limit: 0
      hold_s: 20
      recordings:
      - vacuum_chamber_pressure:
          record_id: pressure
          record_name: Pressure
      - filament_voltage:
          record_id: filament_voltage
          record_name: Filament Voltage
      - bias_voltage:
          record_id: bias_voltage
          record_name: Bias Voltage
      - filament_current:
          record_id: filament_current
          record_name: Filament Current
      - bias_current:
          record_id: bias_current
          record_name: Bias Current
      - emitted_current:
          record_id: emitted_current
          record_name: Emitted Current
